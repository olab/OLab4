<template>
    <div class="text-editor">
        <label v-if="hasLabel"><slot></slot></label>
        <div :id="id" class="ckeditor"></div>
    </div>
</template>
<script>
'use strict';module.exports={name:'TextEditor',data:function data(){return{id:'ckeditor'+Date.now(),currentContent:'',convertedTypes:''}},props:{height:{type:Number,default:200},content:{type:String},toolbar:{type:String,required:true},types:{type:String,default:'classic'}},computed:{computedTypes:function computedTypes(){this.convertedTypes=this.types;this.convertedTypes=this.convertedTypes.toLowerCase();if(this.convertedTypes=='inline'){return'inline'}else{return''};},hasLabel:function hasLabel(){return!!this.$slots.default}},created:function created(){this.componentToolbar=this.toolbar;this.componentToolbar=this.componentToolbar.toLowerCase()},mounted:function mounted(){if(this.types==='inline'){CKEDITOR.inline(this.id)}else{CKEDITOR.replace(this.id)}CKEDITOR.instances[this.id].config=Object.assign(CKEDITOR.instances[this.id].config,this.computedConfig());this.currentContent=this.content},methods:{updatingContent:function updatingContent(html){this.$emit('updating-input',html)},computedConfig:function computedConfig(){if(this.componentToolbar==='simple'){return{toolbar:[{name:'clipboard',items:['Undo','Redo']},{name:'basicstyles',items:['Bold','Italic','Underline','Strike','Subscript','Superscript','RemoveFormat']},{name:'tools',items:['Maximize']}],removeButtons:'',height:this.height}}else if(this.componentToolbar==='advanced'){return{toolbar:[{name:'clipboard',items:['Undo','Redo']},{name:'forms',items:['Form','Checkbox','Radio','Textfield','Textarea']},{name:'basicstyles',items:['Bold','Italic','Underline','Strike','Subscript','Superscript','RemoveFormat']},{name:'paragraph',items:['NumberedList','BulletedList','-','Outdent','Indent','-','Blockquote','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock']},{name:'document',items:['Source','-']},{name:'links',items:['Link','Unlink','Anchor']},{name:'styles',items:['Format','Font','FontSize']},{name:'colors'},{name:'tools',items:['Maximize']}],height:this.height}}else if(this.componentToolbar=='custom'){return{toolbar:[{name:'document',items:['Source']},{name:'clipboard',items:['Cut','Copy','Paste','PasteText','PasteFromWord','-','Undo','Redo']},{name:'editing',items:['Find','Replace','-','SelectAll','-','Scayt']},{name:'basicstyles',items:['Bold','Italic','Underline','Strike','Subscript','Superscript','-','CopyFormatting','RemoveFormat']},{name:'paragraph',items:['NumberedList','BulletedList','-','Outdent','Indent','-','Blockquote','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock']},{name:'links',items:['Link','Unlink','Anchor']},{name:'insert',items:['Image','Table','HorizontalRule','Smiley','SpecialChar']},{name:'styles',items:['Format']},{name:'colors',items:['TextColor']},{name:'tools',items:['Maximize']},{name:'about',items:['About']}],height:this.height}}else if(this.componentToolbar!=='simple'|this.componentToolbar!='advanced'){return{toolbar:[{name:'clipboard',items:['Undo','Redo']},{name:'basicstyles',items:['Bold','Italic','Underline','Strike','Subscript','Superscript','RemoveFormat']},{name:'tools',items:['Maximize']}],height:this.height}};}},watch:{content:function content(){this.currentContent=this.content}}};
</script>

<style>
.ejs .text-editor{margin-bottom:30px}.ejs .text-editor label{display:block;font-size:0.9em;margin-bottom:1px;margin-left:2px}.ejs .text-editor .cke{-webkit-border-radius:10px;-moz-border-radius:10px;-ms-border-radius:10px;border-radius:10px;border:1px solid #d9dee2 !important;overflow:hidden}.ejs .text-editor .cke .cke_editable{color:#17323c;font-family:"Source Sans Pro",sans-serif;font-size:2em;padding:10px 15px}.ejs .text-editor .cke .cke_top{background-color:#f4f7fa;border-bottom:1px solid #ecf0f3}.ejs .text-editor .cke .cke_top .cke_toolbar_separator{background-color:#d9dee2 !important}.ejs .text-editor .cke .cke_top .cke_combo::after{border-right:1px solid #d9dee2}.ejs .text-editor .cke .cke_top .cke_combo .cke_combo_button{-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;border-radius:5px;-webkit-transition:0.2s;-moz-transition:0.2s;-ms-transition:0.2s;transition:0.2s;border:none;margin:0;padding:2px 4px}.ejs .text-editor .cke .cke_top .cke_combo .cke_combo_button:hover{background-color:#ecf0f3;margin:0;text-decoration:none}.ejs .text-editor .cke .cke_top .cke_combo.cke_combo_on .cke_combo_button{background-color:#ecf0f3;margin:0}.ejs .text-editor .cke .cke_top .cke_combo .cke_combo_text{color:#37555e;font-family:"Source Sans Pro",sans-serif;font-size:1.2em}.ejs .text-editor .cke .cke_top .cke_combo .cke_combo_arrow{border-top:3px solid #6b8d98}.ejs .text-editor .cke .cke_top .cke_button{-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;border-radius:5px;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-transition:0.2s;-moz-transition:0.2s;-ms-transition:0.2s;transition:0.2s;border:none;padding:5px 8px}.ejs .text-editor .cke .cke_top .cke_button:last-child::after{border-right:1px solid #d9dee2}.ejs .text-editor .cke .cke_top .cke_button:hover{background-color:#ecf0f3;text-decoration:none}.ejs .text-editor .cke .cke_top .cke_button .cke_button_label{color:#37555e;font-family:"Source Sans Pro",sans-serif;font-size:1.2em}.ejs .text-editor .cke .cke_top .cke_button .cke_button_icon{-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;border-radius:5px;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;background:none !important;font-size:13px;height:auto;margin:0 -3px 0 0;text-align:center;width:auto}.ejs .text-editor .cke .cke_top .cke_button .cke_button_icon::before{color:#6b8d98;display:inline;font:normal normal normal 1em/1em FontAwesome;font-size:1.2em}.ejs .text-editor .cke .cke_top .cke_button.cke_button_on{background-color:transparent}.ejs .text-editor .cke .cke_top .cke_button.cke_button_on:hover{background-color:#ecf0f3;text-decoration:none}.ejs .text-editor .cke .cke_top .cke_button.cke_button_on .cke_button_icon::before{color:#17323c}.ejs .text-editor .cke .cke_top .cke_button .cke_button_arrow{border-top:3px solid #6b8d98;margin-left:3px;margin-top:2px}.ejs .text-editor .cke .cke_top .cke_button .cke_button__undo_icon::before{content:"\f060"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__redo_icon::before{content:"\f061"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__bold_icon::before{content:"\f032"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__italic_icon::before{content:"\f033"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__underline_icon::before{content:"\f0cd"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__subscript_icon::before{content:"\f12c"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__superscript_icon::before{content:"\f12b"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__strike_icon::before{content:"\f0cc"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__copyformatting_icon::before{content:"\f1fc"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__removeformat_icon::before{content:"\f12d"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__justifyleft_icon::before{content:"\f036"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__justifycenter_icon::before{content:"\f037"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__justifyright_icon::before{content:"\f038"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__justifyblock_icon::before{content:"\f039"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__maximize_icon::before{content:"\f0b2"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__bulletedlist_icon::before{content:"\f0ca"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__numberedlist_icon::before{content:"\f0cb"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__source_icon::before{content:"\f121"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__cut_icon::before{content:"\f0c4"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__copy_icon::before{content:"\f0c5"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__paste_icon::before{content:"\f0ea"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__pastetext_icon::before{content:"\f0f6"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__pastefromword_icon::before{content:"\f1c2"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__scayt_icon::before{content:"\f00c"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__outdent_icon::before{content:"\f03b"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__indent_icon::before{content:"\f03c"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__blockquote_icon::before{content:"\f10d"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__link_icon::before{content:"\f0c1"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__unlink_icon::before{content:"\f127"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__anchor_icon::before{content:"\f13d"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__image_icon::before{content:"\f03e"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__table_icon::before{content:"\f0ce"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__horizontalrule_icon::before{content:"\f068"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__specialchar_icon::before{content:"\f155"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__about_icon::before{content:"\f128"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__find_icon::before{content:"\f002"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__replace_icon::before{content:"\f021"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__selectall_icon::before{content:"\f046"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__smiley_icon::before{content:"\f118"}.ejs .text-editor .cke .cke_top .cke_button .cke_button__textcolor_icon::before{content:"\f031"}.ejs .text-editor .cke .cke_editable{color:red}.ejs .text-editor .cke .cke_bottom{background-color:#f4f7fa;border-top:1px solid #ecf0f3;padding:5px 10px;position:relative}.ejs .text-editor .cke .cke_bottom .cke_resizer{border-right:10px solid #6b8d98;margin-right:0}.ejs .text-editor .cke .cke_bottom .cke_path a{color:#37555e;font-family:"Source Sans Pro",sans-serif;font-size:1.2em;font-weight:normal;text-shadow:none}
</style>
