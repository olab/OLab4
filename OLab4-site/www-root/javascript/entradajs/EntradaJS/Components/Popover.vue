<template>
    <div :class="{ 'popover': true, 'open': popoverActive, 'top': position == 'top', 'bottom': position == 'bottom', 'left': position == 'left', 'right': position == 'right' }" :style="{ height: this.popoverHeight }">
        <div class="popover-inner" ref="popoverInner">
            <div v-if="hasHeaderSlot" class="popover-header">
                <span v-if="icon" :class="icon"></span>
                <slot></slot>
            </div>

            <div v-if="hasContentSlot" class="popover-content">
                <slot name="content"></slot>
            </div>
        </div>
    </div>
</template>

<script>
'use strict';module.exports={name:'Popover',data:function data(){return{popoverActive:true,popoverHeight:''}},props:{state:{type:Boolean,default:false},position:{type:String,default:'top'},icon:{type:String}},computed:{hasHeaderSlot:function hasHeaderSlot(){return!!this.$slots.default},hasContentSlot:function hasContentSlot(){return!!this.$slots['content']},popoverHeightComputed:function popoverHeightComputed(){return this.$refs.popoverInner.clientHeight}},created:function created(){this.popoverActive=this.state},mounted:function mounted(){this.popoverHeight=this.popoverHeightComputed+'px'},watch:{state:function state(){this.popoverActive=this.state}}};
</script>

<style>
.ejs .popover{-webkit-transition:0.25s;-moz-transition:0.25s;-ms-transition:0.25s;transition:0.25s;cursor:default;opacity:0;position:absolute;z-index:-1}.ejs .popover.open{opacity:1;z-index:5}.ejs .popover.open.top{margin-bottom:12px !important}.ejs .popover.open.bottom{margin-top:12px}.ejs .popover.open.left{margin-right:12px}.ejs .popover.open.right{margin-left:12px}.ejs .popover .popover-inner{-webkit-border-radius:10px;-moz-border-radius:10px;-ms-border-radius:10px;border-radius:10px;background:#fff;border:1px solid #d9dee2;cursor:pointer;position:relative;width:300px}.ejs .popover .popover-inner .popover-header{-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-border-radius:10px 10px 0 0;-moz-border-radius:10px 10px 0 0;-ms-border-radius:10px 10px 0 0;border-radius:10px 10px 0 0;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-shrink:0;flex-shrink:0;border-bottom:1px solid #ecf0f3}.ejs .popover .popover-inner .popover-header>.fa{color:#6b8d98;position:relative;top:-1px}.ejs .popover .popover-inner .popover-header>*{padding:15px 0 15px 10px}.ejs .popover .popover-inner .popover-header>*:first-child{padding-left:20px}.ejs .popover .popover-inner .popover-header>*:last-child{padding-right:20px}.ejs .popover .popover-inner .popover-content{padding:20px}.ejs .popover .popover-inner .popover-content:first-child{-webkit-border-radius:10px 10px 0 0;-moz-border-radius:10px 10px 0 0;-ms-border-radius:10px 10px 0 0;border-radius:10px 10px 0 0}.ejs .popover .popover-inner .popover-content:last-child{-webkit-border-radius:0 0 10px 10px;-moz-border-radius:0 0 10px 10px;-ms-border-radius:0 0 10px 10px;border-radius:0 0 10px 10px}.ejs .popover .popover-inner .popover-content:only-child{-webkit-border-radius:10px;-moz-border-radius:10px;-ms-border-radius:10px;border-radius:10px}.ejs .popover .popover-inner .popover-content>*>*:first-child{margin-top:0}.ejs .popover .popover-inner .popover-content>*>*:last-child{margin-bottom:0 !important}.ejs .popover .popover-inner .popover-content>*>*:only-child{margin:0}.ejs .popover.top,.ejs .popover.bottom{left:50%}.ejs .popover.top .popover-inner,.ejs .popover.bottom .popover-inner{left:-50%}.ejs .popover.top .popover-inner::after,.ejs .popover.top .popover-inner::before,.ejs .popover.bottom .popover-inner::after,.ejs .popover.bottom .popover-inner::before{content:"";display:block;width:0;height:0;position:absolute}.ejs .popover.top{bottom:100%;margin-bottom:2px !important}.ejs .popover.top .popover-inner::after{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff;bottom:-8px;left:50%;margin-left:-8px}.ejs .popover.top .popover-inner::before{border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #d9dee2;bottom:-10px;left:50%;margin-left:-10px}.ejs .popover.bottom{top:100%;margin-top:2px}.ejs .popover.bottom .popover-inner::after{border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid #fff;top:-8px;left:50%;margin-left:-8px}.ejs .popover.bottom .popover-inner::before{border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid #d9dee2;top:-10px;left:50%;margin-left:-10px}.ejs .popover.left,.ejs .popover.right{bottom:50%}.ejs .popover.left .popover-inner,.ejs .popover.right .popover-inner{bottom:-50%}.ejs .popover.left .popover-inner::after,.ejs .popover.left .popover-inner::before,.ejs .popover.right .popover-inner::after,.ejs .popover.right .popover-inner::before{content:"";display:block;width:0;height:0;position:absolute}.ejs .popover.left{right:100%;margin-right:2px}.ejs .popover.left .popover-inner::after{border-top:8px solid transparent;border-left:8px solid #fff;border-bottom:8px solid transparent;left:100%;margin-top:-8px;right:-8px;top:50%}.ejs .popover.left .popover-inner::before{border-top:10px solid transparent;border-left:10px solid #d9dee2;border-bottom:10px solid transparent;left:100%;margin-top:-10px;right:-10px;top:50%}.ejs .popover.right{left:100%;margin-left:2px}.ejs .popover.right .popover-inner::after{border-top:8px solid transparent;border-right:8px solid #fff;border-bottom:8px solid transparent;right:100%;margin-top:-8px;left:-8px;top:50%}.ejs .popover.right .popover-inner::before{border-top:10px solid transparent;border-right:10px solid #d9dee2;border-bottom:10px solid transparent;right:100%;margin-top:-10px;left:-10px;top:50%}
</style>
