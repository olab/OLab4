<template>
    <div :class="{ 'modal-wrapper': true, 'open': modalActive }">
        <div class="modal">
            <div v-if="hasHeaderSlot" class="modal-header">
                <span v-if="icon" :class="icon"></span>

                <slot></slot>

                <div class="close-modal">
                    <button @click="closeModal"><tooltip position="left">Close</tooltip><span class="fa fa-times"></span></button>
                </div>
            </div>

            <div v-if="hasContentSlot" class="modal-content">
                <slot name="content"></slot>
            </div>

            <div v-if="hasFooterSlot" class="modal-footer">
                <slot name="footer"></slot>
            </div>
        </div>
    </div>
</template>

<script>
'use strict';var Tooltip=use('./Tooltip.vue');module.exports={name:'Modal',components:{Tooltip:Tooltip},data:function data(){return{modalActive:true}},props:{state:{type:Boolean,default:false},icon:{type:String}},computed:{hasHeaderSlot:function hasHeaderSlot(){return!!this.$slots.default},hasContentSlot:function hasContentSlot(){return!!this.$slots['content']},hasFooterSlot:function hasFooterSlot(){return!!this.$slots['footer']}},created:function created(){this.modalActive=this.state},watch:{state:function state(){this.modalActive=this.state}},methods:{closeModal:function closeModal(){this.$emit('closing');this.modalActive=false}}};
</script>

<style>
.ejs .modal-wrapper{-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-transition:opacity 0.15s,z-index 0s 0.4s,visibility 0s 0.4s;-moz-transition:opacity 0.15s,z-index 0s 0.4s,visibility 0s 0.4s;-ms-transition:opacity 0.15s,z-index 0s 0.4s,visibility 0s 0.4s;transition:opacity 0.15s,z-index 0s 0.4s,visibility 0s 0.4s;background-color:rgba(0,0,0,0.5);bottom:0;left:0;opacity:0;padding:30px;position:fixed;right:0;top:0;visibility:hidden;z-index:-1}.ejs .modal-wrapper.open{-webkit-transition:opacity 0.15s,z-index 0s,visibility 0s;-moz-transition:opacity 0.15s,z-index 0s,visibility 0s;-ms-transition:opacity 0.15s,z-index 0s,visibility 0s;transition:opacity 0.15s,z-index 0s,visibility 0s;opacity:1;visibility:visible;z-index:5}.ejs .modal-wrapper.open .modal{-webkit-transition:opacity 0.4s 0.15s,margin-bottom 0.4s 0.15s;-moz-transition:opacity 0.4s 0.15s,margin-bottom 0.4s 0.15s;-ms-transition:opacity 0.4s 0.15s,margin-bottom 0.4s 0.15s;transition:opacity 0.4s 0.15s,margin-bottom 0.4s 0.15s;margin-bottom:0;opacity:1}.ejs .modal-wrapper .modal{-webkit-border-radius:10px;-moz-border-radius:10px;-ms-border-radius:10px;border-radius:10px;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-transition:opacity 0.4s 0s,margin-bottom 0.4s 0s;-moz-transition:opacity 0.4s 0s,margin-bottom 0.4s 0s;-ms-transition:opacity 0.4s 0s,margin-bottom 0.4s 0s;transition:opacity 0.4s 0s,margin-bottom 0.4s 0s;background-color:#fff;border:1px solid #d9dee2;margin-bottom:100px;max-height:calc(100vh - 60px);max-width:800px;opacity:0;overflow:hidden;position:relative;width:100%}.ejs .modal-wrapper .modal .modal-header{-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-border-radius:10px 10px 0 0;-moz-border-radius:10px 10px 0 0;-ms-border-radius:10px 10px 0 0;border-radius:10px 10px 0 0;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-shrink:0;flex-shrink:0;border-bottom:1px solid #ecf0f3}.ejs .modal-wrapper .modal .modal-header>.fa{color:#6b8d98;position:relative;top:-1px}.ejs .modal-wrapper .modal .modal-header>*{padding:15px 0 15px 10px}.ejs .modal-wrapper .modal .modal-header>*:first-child{padding-left:20px}.ejs .modal-wrapper .modal .modal-header>*:last-child{padding-right:20px}.ejs .modal-wrapper .modal .modal-header .close-modal{margin-left:auto}.ejs .modal-wrapper .modal .modal-header .close-modal button{-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-box-shadow:0 0 0 1px #ecf0f3;-moz-box-shadow:0 0 0 1px #ecf0f3;-ms-box-shadow:0 0 0 1px #ecf0f3;box-shadow:0 0 0 1px #ecf0f3;-webkit-transition:0.2s;-moz-transition:0.2s;-ms-transition:0.2s;transition:0.2s;background-color:transparent;border:none;color:#6b8d98;cursor:pointer;height:32px;padding:6px 7px;position:relative;width:32px}.ejs .modal-wrapper .modal .modal-header .close-modal button:hover{-webkit-box-shadow:0 0 0 1px #6b8d98;-moz-box-shadow:0 0 0 1px #6b8d98;-ms-box-shadow:0 0 0 1px #6b8d98;box-shadow:0 0 0 1px #6b8d98}.ejs .modal-wrapper .modal .modal-header .close-modal button:focus{-webkit-box-shadow:0 0 0 2px #028ed4;-moz-box-shadow:0 0 0 2px #028ed4;-ms-box-shadow:0 0 0 2px #028ed4;box-shadow:0 0 0 2px #028ed4}.ejs .modal-wrapper .modal .modal-header .close-modal button .fa{-webkit-transition:0.2s;-moz-transition:0.2s;-ms-transition:0.2s;transition:0.2s;position:relative;top:0}.ejs .modal-wrapper .modal .modal-content{overflow-y:scroll;padding:20px}.ejs .modal-wrapper .modal .modal-content::-webkit-scrollbar-track{background-color:#f4f7fa}.ejs .modal-wrapper .modal .modal-content::-webkit-scrollbar{background-color:#f4f7fa;height:6px;width:6px}.ejs .modal-wrapper .modal .modal-content::-webkit-scrollbar-thumb{-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 0 0 3px #fff;-moz-box-shadow:0 0 0 3px #fff;-ms-box-shadow:0 0 0 3px #fff;box-shadow:0 0 0 3px #fff;background-color:#d9dee2}.ejs .modal-wrapper .modal .modal-content:first-child{-webkit-border-radius:10px 10px 0 0;-moz-border-radius:10px 10px 0 0;-ms-border-radius:10px 10px 0 0;border-radius:10px 10px 0 0}.ejs .modal-wrapper .modal .modal-content:last-child{-webkit-border-radius:0 0 10px 10px;-moz-border-radius:0 0 10px 10px;-ms-border-radius:0 0 10px 10px;border-radius:0 0 10px 10px}.ejs .modal-wrapper .modal .modal-content:only-child{-webkit-border-radius:10px;-moz-border-radius:10px;-ms-border-radius:10px;border-radius:10px}.ejs .modal-wrapper .modal .modal-content>*>*:first-child{margin-top:0}.ejs .modal-wrapper .modal .modal-content>*>*:last-child{margin-bottom:0}.ejs .modal-wrapper .modal .modal-content>*>*:only-child{margin:0}.ejs .modal-wrapper .modal .modal-footer footer{-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-border-radius:0 0 10px 10px;-moz-border-radius:0 0 10px 10px;-ms-border-radius:0 0 10px 10px;border-radius:0 0 10px 10px;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-shrink:0;flex-shrink:0;background-color:#f4f7fa;border-top:1px solid #ecf0f3}.ejs .modal-wrapper .modal .modal-footer footer>*{padding:15px 0 15px 10px}.ejs .modal-wrapper .modal .modal-footer footer>*:first-child{padding-left:20px}.ejs .modal-wrapper .modal .modal-footer footer>*:last-child{padding-right:20px}.ejs .modal-wrapper .modal .modal-footer footer p:first-child{margin-top:0}.ejs .modal-wrapper .modal .modal-footer footer p:last-child{margin-bottom:0}.ejs .modal-wrapper .modal .modal-footer footer p:only-child{margin:0}.ejs .modal-wrapper .modal .modal-footer footer .btn{margin:0}@media (max-width: 600px){.ejs .modal-wrapper{padding:15px}.ejs .modal-wrapper .modal{max-height:calc(100vh - 30px)}}
</style>
