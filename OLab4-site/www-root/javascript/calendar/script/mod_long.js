// Mod: Long Date Format for Xin Calendar 2 (In-Page/Popup-Window)
// Copyright 2004  Xin Yang    All Rights Reserved.

var xc_bf=xcDateFormat,xc_dg=xc_gb=null;xcDateFormat=xcDateFormat.replace(/month/i,"mm");xcDateFormat=xcDateFormat.replace(/week/i,"week");function xc_co(){if(xc_dg==null){xc_dg=new RegExp("("+xcMonthNames.join("|")+")",'i')};return xc_dg};function xc_cr(){if(xc_gb==null){xc_gb=new RegExp("("+xcWeekdayNames.join("|")+")",'i')};return xc_gb};function xc_ae(date){if(date!=""&&xc_bf.search(/month/i)!=-1){var hn=date.search(xc_co());if(hn!=-1){var mm=xc_cd(xc_de(RegExp.$1.substring(0,3))+1);date=date.substring(0,hn)+mm+date.substring(hn+RegExp.$1.length)}else{date=""}};if(date!=""&&xc_bf.search(/week/i)!=-1){var et=date.search(xc_cr());if(et!=-1){date=date.substring(0,et)+"week"+date.substring(et+RegExp.$1.length)}else{date=""}};return afterGetDateValue(this.ir,this.jk,date)};function xc_al(date){if(date!=""){var eo=xc_cs(date);if(xc_bf.search(/month/i)!=-1){var hn=xcDateFormat.search(/mm/);if(xc_bf.search(/Month/)!=-1){date=date.substring(0,hn)+xcMonthNames[eo[1]]+date.substring(hn+2)}else{date=date.substring(0,hn)+xcMonthNames[eo[1]].toUpperCase()+date.substring(hn+2)}};if(xc_bf.search(/week/i)!=-1){var et=date.search(/week/),ew=xcWeekdayNames[(new Date(eo[0],eo[1],eo[2])).getDay()];if(xc_bf.search(/Week/)!=-1){date=date.substring(0,et)+ew+date.substring(et+4)}else{date=date.substring(0,et)+ew.toUpperCase()+date.substring(et+4)}}};return beforeSetDateValue(this.ir,this.jk,date)};
