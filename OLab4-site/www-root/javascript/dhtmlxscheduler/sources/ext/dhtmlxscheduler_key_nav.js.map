{"version":3,"file":"dhtmlxscheduler_key_nav.js","sources":["dhtmlxscheduler_key_nav.js"],"names":["setupKeyNav","scheduler","getScope","mode","scopes","minicalButton","$keyboardNavigation","MinicalButton","minicalDate","MinicalCell","SchedulerNode","dataArea","DataArea","timeSlot","TimeSlot","event","Event","config","key_nav","key_nav_step","addShortcut","shortcut","handler","scope","scopeObject","prototype","bind","removeShortcut","unbind","focus","disp","dispatcher","enable","activeNode","getActiveNode","setDefaultNode","focusNode","_compose","parts","Array","slice","call","arguments","res","i","length","obj","p","shortcuts","createCommand","modifiers","shift","alt","ctrl","meta","keyCode","parse","commands","expr","this","getExpressions","trim","words","getWords","command","j","commandKeys","specialKeys","charCodeAt","push","getCommandFromEvent","domEvent","shiftKey","altKey","ctrlKey","metaKey","which","printableKey","String","fromCharCode","toLowerCase","getHashFromEvent","getHash","join","junctionChar","split","term","combinationChar","replace","backspace","tab","enter","esc","space","up","down","left","right","home","end","pageup","pagedown","delete","insert","plus","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","EventHandler","_handlers","findHandler","hash","doAction","e","preventDefault","returnValue","bindAll","map","initKeys","keys","getFocusableNodes","_getFocusableNodes","trapFocus","root","focusable","currentFocus","document","activeElement","currentIndex","nextIndex","nextItem","marker","clear","divs","$container","querySelectorAll","parentNode","removeChild","createElement","element","setAttribute","className","renderMultiple","start","method","currentStart","Date","currentEnd","Math","min","valueOf","date","add","day_start","concat","render","section","modes","_modes","view","_getMode","units","renderVerticalMarker","timeline","renderTimelineMarker","year","renderYearMarker","month","renderMonthMarker","weekAgenda","renderWeekAgendaMarker","list","renderAgendaMarker","dayColumns","addWaiAriaLabel","addDataAttributes","offsetWidth","dateToStr","date_to_str","api_date","from","to","label","state","getState","dateTimeLabel","templates","day_date","hour_scale","matrix","key","_props","_waiAria","setAttributes","aria-label","aria-live","start_date","end_date","currDate","week_start","min_date","index","markerDate","_wrapDiv","cell","style","top","offsetTop","offsetLeft","width","height","offsetHeight","appendChild","_get_year_cell","position","block","opacity","querySelector","view_opts","_lame_copy","_mode","areas","_scales","round_position","blocks","_min_date","max_date","_max_date","_trace_x","_is_column_visible","area","start_pos","_timeline_getX","end_pos","_section_height","dy","_isRender","dx","max","cssText","insertBefore","firstChild","renderMonthCell","cells","firstDate","weekNumber","dayIndex","_colsS","heights","div","_cols","container","datatable","nextSibling","currentDate","locate_holder_day","c","_ignores","order","inner_index","days","size","locate_holder","getHours","getMinutes","first_hour","last_hour","all_hours_height","hour_size_px","hour_ms","round","lineHeight","getDefaultNode","node","isValid","fallback","getMode","_grid","blur","disable","removeAttribute","isEnabled","hasAttribute","_compareEvents","a","b","id","_pickEvent","startId","reverse","range","evs","getEvents","sort","splice","nextEventHandler","eventId","nextEvent","getEvent","currEvent","visibleDates","nextEv","setActiveNode","prevEventHandler","alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9","tabs","HeaderCell","getNodes","undefined","click","ctrl+left,meta+left","_click","dhx_cal_prev_button","ctrl+right,meta+right","dhx_cal_next_button","ctrl+up,meta+up","scrollTop","ctrl+down,meta+down","setCurrentView","shift+e","ctrl+enter,meta+enter","addEventNow","ctrl+c,meta+c","_key_nav_copy_paste","ctrl+v,meta+v","ctrl+x,meta+x","KeyNavNode","moveTo","compareTo","canStringifyThis","toString","canStringifyThat","getNode","nodes","selector","defaultCell","newIndex","ev","_getSection","_getNodes","eventNode","defaultElement","_locate_event","calendar","apply","y_property","unit","map_to","_moveToSlot","dir","slot","nextSlot","buttons","showLightbox","movingDate","name","findVisibleColumn","setHours","x_step","x_unit","_getDefaultSection","clone","timeslot","_getMultisectionView","_getNextSection","sectionId","options","y_unit","isInRange","isVisible","defaultSlot","_pasteDate","_pasteSection","addMonthDate","extend","nextMonthSlot","_alignTimeSlot","minDate","step","nextTimelineSlot","startDate","endDate","newPos","nextUnitsSlot","optionsCount","nextDaySlot","_moveDate","oldDate","newDate","setMinutes","isBeforeLastHour","isStartDate","minutes","hours","isAfterFirstHour","isInVisibleDayTime","oldStart","toNextDay","date_part","testEnd","nextWeekAgendaSlot","nextAgendaSlot","isDateVisible","_ignores_detected","_get_date_index","nextDateColumn","current","next","tempSlot","extendSlot","extendUnitsSlot","extendTimelineSlot","extendMonthSlot","extendDaySlot","extendWeekAgendaSlot","direction","extendGenericSlot","allowedDirections","type","moveDate","newDates","extendSlotDates","oldSlot","newSlot","dateDirection","scrollSlot","shift+down","shift+up","shift+right","shift+left","globalNode","row","col","grid","_getGrid","_getNode","rows","enabled","css","_getClassName","indexOf","newRow","newCol","up,down,right,left","dhtmlx","_modalsStack","isModal","modalsStack","isChildOf","child","parent","afterPopup","box","setTimeout","startModal","eventRemove","endModal","pop","isTopModal","window","target","currentTarget","traceLightbox","getLightbox","attachEvent","_keyNavMessagePopup","focusElement","backupFocus","isActive","focusGlobalNode","blurNode","el","keyDownHandler","_locate_css","schedulerNode","_temp_key_scope","trackMousePosition","pos","x","clientX","y","clientY","mousePointer","keyNavPointer","elementFromPoint","_obj","clear_event_after","rec_type","rec_pattern","event_pid","event_length","getSelectedEvent","_select_id","isCopy","body","dhtmlxEvent","getActionData","_make_pasted_event","event_duration","copy","property","_get_section_property","multisection","_do_paste","is_copy","modified_ev","original_ev","addEvent","callEvent","_is_key_nav_active","_is_initialized","_is_lightbox_open","cancelBubble","_date","select_id","_buffer_id","updateEvent","new_ev","uid","delay","callback","clearTimeout","timeout","focusEvent","evNode","prevState","lastStart","lastEnd","lastSection","isMinical","minicalendars","focusMinical","minicalClick","srcElement","prev","rowIndex","cellIndex","tr","td","tagName","isSchedulerSelected","changeState","_edit_id","focusHandler","editor_id","item","isInlineEdit","renderMinical","renderCalendar","cal","_key_nav_click","_key_nav_focus","added","destroyMinical","destroyCalendar","setInterval","Scheduler","plugin"],"mappings":"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"}